<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script> -->
    <!-- <link rel="stylesheet" href="bower_components/sweetalert2/dist/sweetalert2.min.css"> -->
    <link rel="stylesheet" href="fontawesome/css/all.css">
    <link rel="stylesheet" href="css/style.css">
    <title>海中日子｜潛點介紹</title>
</head>
<body class="spotRefer">
    @@include('./layout/header.html')

    <main class="spotRefer_Main">
        <h2>潛點介紹</h2>
        <div class="spotRefer_Contain_rwd">
            <h3>綠島-鋼鐵礁</h3>
            <!-- 潛點照片_rwd 串接好了 -->
            <div class="spotReferImg" id="spotReferImg_rwd"></div>
            <!-- 潛點照片_rwd 串接好了 end-->
        </div>
        <div class="spotReferTab_rwd">
            <ul>
                <li><a href="" class="spotRefrList spotShow" data-target="spotRefer_intor">潛點介紹</a></li>
                <li><a href="" class="spotRefrList" data-target="spotRefer_here">踩點</a></li>
                <li><a href="" class="spotRefrList" data-target="spotRefer_weather">天氣氣象</a></li>
                <li><a href="" class="spotRefrList" data-target="spotRefer_Animal">其他</a></li>
                <li><a href="" class="spotRefrList" data-target="spotRefer_Com">留言區</a></li>
            </ul>
        </div>

        <section class="spotRefer_intor spotShow">
            <!-- 潛點介紹_rwd 串接好了 -->
            <div class="spotReferIntor" id="spotReferIntor_rwd"></div>
            <!-- 潛點介紹_rwd 串接好了 end-->
        </section>

        <section class="spotRefer_here spotRefer_left">
            <div class="spotRefer_Contain">
                <!-- 潛點照片 串接好了 -->
                <div class="spotReferImg" id="spotReferImg"></div>
                <!-- 潛點照片 串接好了 end-->
            </div>
            <h3>已有10人踩過此點</h3>
            <div class="spotRefer_left_spotHere">
                <div class="spotHereBlock">
                    <div class="hereList">
                        <ul id="spotImgHereList">
                            <li><img src="./img/spot/member/memPhoto_200x200-03.png" alt=""></li>
                            <li><img src="./img/spot/member/memPhoto_200x200-03.png" alt=""></li>
                            <li><img src="./img/spot/member/memPhoto_200x200-03.png" alt=""></li>
                            <li><img src="./img/spot/member/memPhoto_200x200-03.png" alt=""></li>
                        </ul>
                    </div>
                    <div class="hereAddBtn">
                        我要<br>踩點
                    </div>
                </div>
            </div>
        </section>

        <section class="spotRefer_weather spotRefer_right">
            <h3>綠島-鋼鐵礁</h3><input type="hidden" value="467660" id="spotStationId"><input type="hidden" value="WRA007" id="spotStationId_sea">
            <!-- 潛點介紹 串接好了 -->
            <div class="spotReferIntor" id="spotReferIntor"></div>
            <!-- 潛點介紹 串接好了 結束-->
            <!-- 天氣 即時跟未來 串接好了 -->
            <div class="spotWeatherTab">
                <div class="weather_list">
                    <ul>
                        <li><a href="" class="weathers -iAmHere" data-target="weatherNow" >即時氣象</a></li>
                        <li><a href="" class="weathers" data-target="weatherFuture" value="10014">未來一週</a></li>
                    </ul>
                </div>
                <div class="weather_block weatherNow -iAmHere">
                    <div class="weather_block_inside" id="today"></div>
                    <div class="weather_block_inside">
                        <div class="spotWeatherText spotWeatherText_right">
                            <i class="fas weatherString fa-4x"></i>
                            <h5></h5>
                        </div>
                        <div class="spotWeatherText spotWeatherText_left">
                            <div>
                                <div class="weather_main TEMP">
                                    <h6>氣溫</h6>
                                    <h5></h5>
                                </div>
                                <div class="weather_main WDIR">
                                    <h6>風向</h6>
                                    <h5></h5>
                                </div>
                                <div class="weather_main UV">
                                    <h6>紫外線指數</h6>
                                    <h5></h5>
                                </div>
                            </div>
                            <div>
                                <div class="weather_main sea_tmp">
                                    <h6>海溫</h6>
                                    <h5></h5>
                                </div>
                                <div class="weather_main water">
                                    <h6>浪況</h6>
                                    <h5></h5>
                                </div>
                                <div class="weather_main 24R">
                                    <h6>累積雨量</h6>
                                    <h5></h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="weather_block weatherFuture">
                    <div class="weather_block_inside" id="weekDay"></div>
                    <div class="weather_block_inside">
                        <div class="spotWeatherfuture" id="spotWeatherfuture">
                        </div>
                    </div>
                </div>
                <div class="weatherDataFrom">
                    <p>資料來源：<a href="https://www.cwb.gov.tw/V8/C/ " target="_blank" >中央氣象局<span id="timeNow"></span></a></p>
                </div>
            </div>
            <!-- 天氣 即時跟未來 串接好了 結束 -->
        </section>

        <!-- 動物已經串好後端資料 -->
        <section class="spotRefer_Animal">
            <h3>你將會看到．．．</h3>
            <div class="spotAnimal" id="showAnimalRows">
            </div>
        </section>
        
        <section class="spotRefer_Com">
            <h3>留言區</h3>
            <div class="spotComBlock" id="showComRows">
                <div class="spotCom">
                    <img src="./img/spot/member/memPhoto_200x200-01.png" alt="">
                    <div class="spotComText">
                        <div>
                            <h5>夜大asd</h5>
                            <span>發布時間</span>
                        </div>
                        <p>這裡好好玩這裡好好玩裡好好玩這裡好好玩</p>
                    </div>
                    <div class="spotComText">
                        <i class="fas fa-exclamation-circle"></i> 
                    </div>
                </div>
                <div class="spotCom">
                    <img src="./img/spot/member/memPhoto_200x200-01.png" alt="">
                    <div class="spotComText">
                        <div>
                            <h5>夜大asd</h5>
                            <span>發布時間</span>
                        </div>
                        <p>這裡好好玩這裡好好玩裡好好玩這裡好好玩</p>
                    </div>
                    <div class="spotComText">
                        <i class="fas fa-exclamation-circle"></i> 
                    </div>
                </div>
                <div class="spotCom">
                    <img src="./img/spot/member/memPhoto_200x200-01.png" alt="">
                    <div class="spotComText">
                        <div>
                            <h5>夜大asd</h5>
                            <span>發布時間</span>
                        </div>
                        <p>這裡好好玩這裡好好玩裡好好玩這裡好好玩</p>
                    </div>
                    <div class="spotComText">
                        <i class="fas fa-exclamation-circle"></i> 
                    </div>
                </div>
                <div class="spotCom">
                    <img src="./img/spot/member/memPhoto_200x200-01.png" alt="">
                    <div class="spotComText">
                        <div>
                            <h5>夜大asd</h5>
                            <span>發布時間</span>
                        </div>
                        <p>這裡好好玩這裡好好玩裡好好玩這裡好好玩</p>
                    </div>
                    <div class="spotComText">
                        <i class="fas fa-exclamation-circle "></i> 
                    </div>
                </div>
                <div class="bubbleBtn spotComMoreBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="goo">
                        <defs>
                            <filter id="goo">
                                <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
                                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9"
                                    result="goo" />
                                <feComposite in="SourceGraphic" in2="goo" />
                            </filter>
                        </defs>
                    </svg>
            
                    <span class="button--bubble__container">
                        <a href="#campaign" class="button button--bubble">
                            載入更多
                        </a>
                        <span class="button--bubble__effect-container">
                            <span class="circle top-left"></span>
                            <span class="circle top-left"></span>
                            <span class="circle top-left"></span>
            
                            <span class="button effect-button"></span>
            
                            <span class="circle bottom-right"></span>
                            <span class="circle bottom-right"></span>
                            <span class="circle bottom-right"></span>
                        </span>
                    </span>
                </div>
            </div>
            <div class="lightbox-block3 reportCom">
                <div class="lightbox3">
                    <div class="button_closeBox3">
                        <button type="button" class="btn_modal_close">✖</button>
                    </div>
                    <h3>請問是什麼狀況產生的檢舉呢？</h3>
                    <form action="" class="inlightbox-form3">
                        <ul>
                            <li><label><input id="pl" type="checkbox">與色情相關</label></li>
                            <li><label ><input id="pl1" type="checkbox">與本網站無相關</label></li>
                            <li><label><input id="pl2" type="checkbox">言詞用語粗俗不檔</label></li>
                            <li><input class="submitbtn3" type="submit" value="送出"></li>
                        </ul>
                    </form>
                </div>
            </div>
            <div class="spotComBlock spotComSend">                 
                <img src="./img/spot/member/memPhoto_200x200-01.png" alt="">
                <div class="spotComSendText">
                    <textarea name="" id="" rows="2" placeholder="我要留言"></textarea>
                    <i class="fas fa-location-arrow fa-flip-horizontal"></i>
                </div>
            </div>
        </section>

    </main>


    @@include('./layout/footer.html')
    <script src="./js/spotRefer.js"></script>

    <script>
    function $id(id){
        return document.getElementById(id);
    }	

        let spotReferImgs;  //潛點照片
        let description;    //潛點敘述
        let animalRows;     //動物照片
        let showSpotComRow; //留言
        window.addEventListener("load", function(){
        let html ="";
        let xhr = new XMLHttpRequest();

        //－－－－－－潛點照片
            function showSpotReferImg(){
                html = `<img src="./img/spot/${spotReferImgs[0].picture}" alt="">`;
                spotReferImg.innerHTML = html;
                spotReferImg_rwd.innerHTML = html;
            }
            xhr.onload = function(){
                spotReferImgs = JSON.parse(xhr.responseText);
                showSpotReferImg();
            }
            xhr.open("get", "getSpotReferImg.php", false);
            xhr.send(null);

        //－－－－－－潛點介紹內文
            //－－－－－－show
            function showInfotext(){
                html ="";
                html = `<p>${description[0].description}</p>`;
                spotReferIntor_rwd.innerHTML = html;
                spotReferIntor.innerHTML = html;
            }
            xhr = new XMLHttpRequest();
	        xhr.onload = function(){
                description = JSON.parse(xhr.responseText);
                showInfotext();
            }
            xhr.open("get", "getSpotRefer.php", false);
            xhr.send(null);


        //－－－－－－你將會看到
            //－－－－－－show 動物照片
            function showAnimals(){
                html ="";
                for(let i=0; i< animalRows.length; i++){
                    html +=`<img src="./img/animals/${animalRows[i].animalPic}" alt="">`;
                }
                showAnimalRows.innerHTML = html;
            }
            //－－－－－－取得資料庫照片
            // console.log(animalRows);
            xhr = new XMLHttpRequest();
	        xhr.onload = function(){
                animalRows = JSON.parse(xhr.responseText);
                showAnimals();
            }
            xhr.open("get", "getAnimal.php", false);
            xhr.send(null);

        //－－－－－－留言區
            //－－－－－－show 留言
            function showSpotCom(){
                html ="";
                for(let i=0; i< spotComRow.length; i++){
                    html += `<div class="spotCom">
                                <img src="./img/member/member/${spotComRow[i].memAvatar}" alt="">
                                <div class="spotComText">
                                    <div>
                                        <h5>${spotComRow[i].memName}</h5>
                                        <span>${spotComRow[i].comTime}</span>
                                    </div>
                                    <p>${spotComRow[i].content}</p>
                                </div>
                                <div class="spotComText">
                                    <i class="fas fa-exclamation-circle"></i>
                                </div>
                            </div>`;
                }
                showComRows.innerHTML = html;
            }
            //－－－－－－取得留言
            xhr = new XMLHttpRequest();
	        xhr.onload = function(){
                spotComRow = JSON.parse(xhr.responseText);
                showSpotCom();
            }
            xhr.open("get", "getSpotComs.php", false);
            xhr.send(null);
            


        },false);


    </script>



</body>
</html>